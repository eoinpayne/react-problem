(this["webpackJsonpcgc-landing2"]=this["webpackJsonpcgc-landing2"]||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},105:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),c=a.n(o),l=(a(103),a(104),a(105),a(38)),i=a(32),u=a(28),m=(a(67),a(17)),s=a(15);function d(){return r.a.createElement(i.a,{style:{"background-color":"#FFFFFF","box-shadow":"0 2px 4px 0 rgba(0,0,0,.05)","font-family":"sans-serif"},bg:"light",variant:"light",fixed:"top",id:"myHeader",expand:"lg"},r.a.createElement(i.a.Brand,{style:{"margin-right":"3rem","background-color":"#FFFFFF"},href:"https://simplecgt.com"},"simplecgt.com"),r.a.createElement(i.a.Toggle,{"aria-controls":"basic-navbar-nav"}))}var f=a(21),p=a(20),E=a.n(p),b=a(97),g=a(50),y=a(95),v=a(23),h=a(51),x=a.n(h),w=a(65),S=a(58),O=Object(S.b)({name:"espp",initialState:[{id:0,date:"2017-11-30",acquiredPriceUSD:83.63,acquiredPriceEUR:70.29,fmvUSD:103,fmvEUR:86.57,units:0,totalLiab:0,amountGain:0},{id:1,date:"2018-05-31",acquiredPriceUSD:85.44,acquiredPriceEUR:73.07,fmvUSD:130.96,fmvEUR:112.02,units:0,totalLiab:0,amountGain:0},{id:2,date:"2018-11-30",acquiredPriceUSD:107.34,acquiredPriceEUR:94.83,fmvUSD:164.06,fmvEUR:144.89,units:0,totalLiab:0,amountGain:0},{id:3,date:"2019-05-31",acquiredPriceUSD:142.63,acquiredPriceEUR:127.37,fmvUSD:204.12,fmvEUR:182.28,units:0,totalLiab:0,amountGain:0},{id:4,date:"2019-11-30",acquiredPriceUSD:152.25,acquiredPriceEUR:138.11,fmvUSD:179.12,fmvEUR:162.57,units:0,totalLiab:0,amountGain:0},{id:5,date:"2020-05-31",acquiredPriceUSD:146.14,acquiredPriceEUR:131.45,fmvUSD:183.43,fmvEUR:164.99,units:0,totalLiab:0,amountGain:0},{id:6,date:"2020-11-30",acquiredPriceUSD:151.27,acquiredPriceEUR:126.21,fmvUSD:224.79,fmvEUR:187.76,units:0,totalLiab:0,amountGain:0}],reducers:{increment:function(e){},decrement:function(e){},incrementByAmount:function(e,t){},updateEsppRow:function(e,t){e.map((function(e){e.date===t.payload.date&&(e.units=t.payload.units,e.totalLiab=t.payload.totalLiab,e.amountGain=t.payload.amountGain)}))}}}),j=O.actions,P=(j.increment,j.decrement,j.updateEsppRow),T=O.reducer,F=a(24),U=a(92),A=a.n(U),R=a(93),L=a.n(R),D=a(94),G=a.n(D),k=a(46);function q(e){a(123);var t=Object(n.useState)(0),o=Object(m.a)(t,2),c=o[0],i=o[1],u=Object(n.useState)(52),d=Object(m.a)(u,2),p=d[0],b=d[1],g=Object(n.useState)(0),y=Object(m.a)(g,2),v=y[0],h=y[1],S=Object(n.useState)(0),O=Object(m.a)(S,2),j=O[0],T=O[1],U=Object(n.useState)("--"),R=Object(m.a)(U,2),D=R[0],q=R[1],C=Object(n.useState)(0),Y=Object(m.a)(C,2),I=(Y[0],Y[1]),M=Object(n.useState)(!1),z=Object(m.a)(M,2),N=z[0],B=z[1],H=Object(f.b)(),K=(Object(n.useEffect)((function(){var t=E()(e.row.date).add(28,"days"),a=E()(),n=t.diff(a,"days");q(n<-365?"--":n)})),Object(f.c)((function(e){return e.espp}))),$=(Object(n.useEffect)((function(){var t=(e.row.fmvEUR-e.row.acquiredPriceEUR)*c;h((function(){return t})),T(t*(p/100))}),[c,p]),Object(n.useEffect)((function(){H(P({date:e.row.date,units:c,amountGain:v,totalLiab:j})),I(function(e,t,a){return E()("2010-10-20").isSame("2010-01-01","year"),t.filter((function(t){return t.date!=e&&E()(t.date).isSame(E()(e),"year")})).reduce((function(e,t){return e+t.totalLiab}),a)}(e.row.date,K,j))}),[j]),function(e){return r.a.createElement("select",{name:"taxRate",id:"taxRate",value:p,onChange:e.onChange},r.a.createElement("option",{value:"52"},"52%"),r.a.createElement("option",{value:"48.5"},"48.5%"),r.a.createElement("option",{value:"46"},"46%"))}),J=Object(n.useState)(!1),V=Object(m.a)(J,2),W=V[0],_=V[1],X=function(){return _(!1)};function Q(){return(Q=Object(w.a)(x.a.mark((function t(a,n,r,o,c,l){var i,u,m,s,d,f,p,E,b;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return function(e){return new Promise((function(t){return setTimeout(t,e)}))},"/form-rtso1.pdf",t.next=4,A()("/form-rtso1.pdf",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"no-referrer"}).then((function(e){return e.arrayBuffer()}));case 4:return i=t.sent,t.next=7,F.PDFDocument.load(i);case 7:return u=t.sent,t.next=10,u.embedFont(F.StandardFonts.Helvetica);case 10:m=t.sent,s=u.getPages(),d=s[0],f=d.getSize(),f.width,p=f.height,E={width:300,height:300,paddingX:100,paddingY:100,canvasTargetDom:".js-canvasTargetDom",font:["15px","'Homemade Apple'"],color:"blue",textString:"".concat(a),customFont:{name:"'Homemade Apple'",url:"https://fonts.googleapis.com/css?family=Homemade+Apple"}},b=new G.a(E),setTimeout(Object(w.a)(x.a.mark((function t(){var i,s,f;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=b.getImageData(),console.log("tempimg inside set timeout"),console.log(i),t.next=5,u.embedPng(i);case 5:return s=t.sent,d.drawText("".concat(a),{x:33,y:p-110,size:13,font:m,color:Object(F.rgb)(0,0,0)}),d.drawText("".concat(n),{x:300,y:p-105,size:13,font:m,color:Object(F.rgb)(0,0,0)}),d.drawText("".concat(r),{x:300,y:p-120,size:13,font:m,color:Object(F.rgb)(0,0,0)}),d.drawText("".concat(o),{x:300,y:p-137,size:13,font:m,color:Object(F.rgb)(0,0,0)}),d.drawText("".concat(c),{x:152,y:p-688,size:15,font:m,color:Object(F.rgb)(0,0,0)}),d.drawText("".concat(e.row.date),{x:152,y:p-735,size:15,font:m,color:Object(F.rgb)(0,0,0)}),d.drawText("".concat(Math.round(v)),{x:185,y:p-800,size:20,font:m,color:Object(F.rgb)(0,0,0)}),d.drawText("".concat(Math.round(j)),{x:455,y:p-800,size:20,font:m,color:Object(F.rgb)(0,0,0)}),l&&d.drawImage(s,{x:295,y:p-940,size:20,font:m,color:Object(F.rgb)(0,0,0)}),t.next=17,u.save();case 17:f=t.sent,L()(f,"pdf-lib_modification_example.pdf","application/pdf");case 19:case"end":return t.stop()}}),t)}))),1e3);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Z=Object(n.useRef)();return r.a.createElement("tr",null,r.a.createElement("td",{style:{"white-space":"nowrap"}},E()(e.row.date).format("YYYY-MM-DD")),r.a.createElement("td",null,e.row.acquiredPriceUSD),r.a.createElement("td",null,e.row.acquiredPriceEUR),r.a.createElement("td",null,e.row.fmvUSD),r.a.createElement("td",null,e.row.fmvEUR),r.a.createElement("td",null,r.a.createElement("input",{style:{width:"100%"},value:c,onChange:function(e){i(parseInt(e.target.value)||0)}})),r.a.createElement("td",null,r.a.createElement($,{onChange:function(e){return b(parseInt(e.target.value))}})),r.a.createElement("td",{id:"totalLiability",ref:Z},j.toFixed(2)),r.a.createElement("td",{id:"amountGain"},v.toFixed(2)),r.a.createElement("td",{style:{"white-space":"nowrap"}},E()(e.row.date).add(30,"days").format("YYYY-MM-DD")),r.a.createElement("td",null,D),r.a.createElement("td",null,r.a.createElement(l.a,{style:{margin:"0px",padding:"0px"},variant:"primary",size:"sm",onClick:function(){return _(!0)}},"Generate RTSO1 form")),r.a.createElement(k.a,{show:W,onHide:X},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,null,"RTSO1 Form generator")),r.a.createElement(k.a.Body,null,r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("i",null,"All fields optional, only used to populate RTSO1 form pdf."),r.a.createElement("br",null)),r.a.createElement(s.a,{onSubmit:function(e){e.preventDefault();var t=e.currentTarget;!function(e,t,a,n,r,o){Q.apply(this,arguments)}(t.elements.formName.value,t.elements.formAddress1.value,t.elements.formAddress2.value,t.elements.formAddress3.value,t.elements.formPPSN.value,N),_(!1)}},r.a.createElement(s.a.Group,{controlId:"formName"},r.a.createElement(s.a.Label,null,"Name"),r.a.createElement(s.a.Control,{type:"input",placeholder:"Enter Name"}),r.a.createElement(s.a.Text,{className:"text-muted"})),r.a.createElement(s.a.Group,{controlId:"formAddress1"},r.a.createElement(s.a.Label,null,"Address Line 1"),r.a.createElement(s.a.Control,{type:"input",placeholder:"Enter Address Line 1"})),r.a.createElement(s.a.Group,{controlId:"formAddress2"},r.a.createElement(s.a.Label,null,"Address Line 2"),r.a.createElement(s.a.Control,{type:"input",placeholder:"Enter Address Line 2"})),r.a.createElement(s.a.Group,{controlId:"formAddress3"},r.a.createElement(s.a.Label,null,"Address Line 3"),r.a.createElement(s.a.Control,{type:"input",placeholder:"Enter Address Line 3"})),r.a.createElement(s.a.Group,{controlId:"formPPSN"},r.a.createElement(s.a.Label,null,"PPSN"),r.a.createElement(s.a.Control,{type:"input",placeholder:"Enter PPSN"})),r.a.createElement(s.a.Group,{controlId:"formAutoSignature"},r.a.createElement(s.a.Switch,{onChange:function(){B(!N)},label:"Automatically generate a Signature",checked:N})),r.a.createElement(k.a.Footer,null,r.a.createElement(l.a,{variant:"secondary",onClick:X},"Close"),r.a.createElement(l.a,{variant:"primary",type:"submit",onClick:X},"Save Changes"))))))}function C(e){var t=e.myProps,a=(Object(b.a)(e,["myProps"]),function(e){var a=Object(n.useState)(0),o=Object(m.a)(a,2),c=o[0],l=o[1],i=Object(n.useState)(0),u=Object(m.a)(i,2),s=u[0],d=u[1],p=Object(f.c)((function(e){return e.espp}));Object(n.useEffect)((function(){!function(e,t){var a=e.filter((function(e){return E()(e.date).isSame(E()(t.rows[0].date),"year")})).reduce((function(e,t){var a=e.tempTotalLiab,n=e.tempTotalAmountGain;return{tempTotalLiab:a+t.totalLiab,tempTotalAmountGain:n+t.amountGain}}),{tempTotalLiab:0,tempTotalAmountGain:0}),n=a.tempTotalLiab,r=a.tempTotalAmountGain;l(n),d(r)}(p,e)}),[p]);return r.a.createElement(g.a.Pane,{eventKey:e.key},r.a.createElement(y.a,{style:{display:"block",overflow:"auto","font-family":"sans-serif","font-weight":"250","margin-bottom":"-15px"}},r.a.createElement("thead",null,t.headers.map((function(e,t){return r.a.createElement("th",{style:{"min-width":"85px",border:"none","font-family":"sans-serif",color:"#7c858e","font-weight":"540"},key:t},e)}))),e.rows.map((function(e){return r.a.createElement(q,{row:e,key:e.date})}))),r.a.createElement("hr",{class:"rounded"}),r.a.createElement(v.a,{style:{"border-radius":".5rem","box-shadow":"0 2px 4px 0 rgba(0,0,0,.05)","margin-top":"-23px"}},r.a.createElement(v.a.Header,{as:"h4"},"For Form 11"),r.a.createElement(v.a.Body,null,r.a.createElement(v.a.Title,{as:"h6"},"Total chargeable amount"),r.a.createElement(v.a.Text,null,s.toFixed(2)),r.a.createElement(v.a.Title,{as:"h6"},"Relevant Tax on a Share Option (RTSO) paid"),r.a.createElement(v.a.Text,null,c.toFixed(2)),r.a.createElement("footer",{className:"blockquote-footer"},"Numbers summed on a ",r.a.createElement("cite",null,"per year")," basis"))))});return r.a.createElement(n.Fragment,null,t.mapentries.map((function(e){return a({key:e[0],rows:e[1]})})))}function Y(e){var t=E()().format("YYYY"),a=Object(n.useState)(t),o=Object(m.a)(a,2),c=o[0],l=o[1];Object(f.c)((function(e){return e.espp}));return r.a.createElement(v.a,{style:{"border-radius":".5rem","box-shadow":"0 2px 4px 0 rgba(0,0,0,.05)"}},r.a.createElement(g.a.Container,{id:"controlled-tab-example",activeKey:c,onSelect:function(e){return l(e)}},r.a.createElement(v.a.Header,null,r.a.createElement(u.a,{variant:"tabs",style:{"border-bottom":"0px"}},e.mapentries.map((function(e){return r.a.createElement(u.a.Item,null,r.a.createElement(u.a.Link,{eventKey:e[0]},e[0]))})))),r.a.createElement(v.a.Body,null,r.a.createElement(g.a.Content,{animation:!0},C({myProps:e})))))}function I(){var e=function(e,t){var a=new Map;return e.forEach((function(e){var n=t(e),r=a.get(n);r?r.push(e):a.set(n,[e])})),a}(Object(f.c)((function(e){return e.espp})),(function(e){return E()(e.date).format("YYYY")})),t=Array.from(e.entries());return r.a.createElement(Y,{mapentries:t,headers:["Deposit Date","$ Acquired Price","\u20ac Acquired Price","$ FMV","\u20ac FMV","Units","Tax Rate","Total Liability","Amount of Gain Made on S.O","RTSO to be paid by","days left to pay"]})}var M=a(96);function z(){return r.a.createElement(n.Fragment,null,r.a.createElement(M.a,{style:{"margin-top":"65px",padding:"1rem",border:"2px solid rgba(0,0,0,.125","border-radius":".5rem","background-color":"#FFFFFF","font-family":"sans-serif"}},r.a.createElement("h2",{style:{textAlign:"center"}},"Manual ESPP calculator"),r.a.createElement("h5",{style:{textAlign:"center"}},"RTSO1 tax for ESPP now automatically calculated using Morgan Stanley export file when logged in."),r.a.createElement("p",{style:{textAlign:"center"}}," This is a manual tool for any one who doesn't want to use the main site.")))}a(74);var N=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement(z,null),r.a.createElement(I,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=Object(S.a)({reducer:{espp:T}});c.a.render(r.a.createElement(f.a,{store:B},r.a.createElement(N,{style:{padding:"27px"}})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e,t,a){},98:function(e,t,a){e.exports=a(124)}},[[98,1,2]]]);
//# sourceMappingURL=main.eb0fbf83.chunk.js.map